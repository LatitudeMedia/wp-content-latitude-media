{"version":3,"file":"js/dfp-ads.min.js","mappings":";AAMCA,OAAOC,UAAYD,OAAOC,WAAa,CAACC,IAAK,IAC7CD,UAAUC,IAAIC,MAAK,WACFH,OAAOI,SAASC,SAASC,OAAO,GAAGC,MAAM,KAAzD,IACIC,EAAcC,SAASC,iBAAiB,mBACxCC,EAAmBX,OAAOW,kBAAoB,GAC9CC,EAAgB,GAChBJ,EAAYK,aACsB,IAA3BF,EAAiBG,YACe,IAAhCH,EAAiBG,MAAMC,MACjCP,EAAYQ,SAAQ,SAASC,GAC5B,IAAIC,EAAWP,EAAiBG,MAAMC,KAAKI,MAAK,SAASJ,GACxD,OAAOA,EAAKK,UAAYH,EAAKI,EAC9B,IAEGH,GACFN,EAAcT,KAAKe,EAErB,IAGEN,GACFA,EAAcI,SAAQ,SAASD,GAC9B,IAAIO,EAAW,GACXC,EAAW,GAoBf,GAnBAR,EAAKS,aAAaR,SAAQ,SAASS,GAClC,GAAIA,EAAMC,YASTJ,EAASnB,KAAK,CACbwB,OAAQF,EAAMC,YAAYnB,MAAM,KAAKqB,KAAI,SAASC,GAAK,OAAOC,OAAOD,EAAE,IACvEE,GAAKN,EAAMO,gBAAgBJ,KAAI,SAASK,GACvC,OAAOA,EAAK1B,MAAM,KAAKqB,KAAI,SAASC,GAAK,OAAOC,OAAOD,EAAE,GAC1D,UAbqB,CACtB,IAAIK,EAAYT,EAAMO,gBAAgBJ,KAAI,SAASK,GAClD,OAAOA,EAAK1B,MAAM,KAAKqB,KAAI,SAASC,GAAK,OAAOC,OAAOD,EAAE,GAC1D,IACGK,EAAUrB,SACZU,EAAWA,EAASY,OAAOD,GAE7B,CASD,IAEGZ,EAAU,CACZ,IAAIc,EAAYnC,UAAUoC,cAC1Bf,EAASN,SAAS,SAASsB,GAC1BF,EAAUG,QAAQD,EAAWX,OAAQW,EAAWP,GACjD,IACA,IAAIS,EAAeJ,EAAUK,QAE7BxC,UAAUyC,WAAW3B,EAAK4B,SAAUpB,EAAUR,EAAKK,SACjDwB,kBAAkBJ,GAClBK,WAAW5C,UAAU6C,SAExB,MAEC7C,UAAUyC,WAAW3B,EAAK4B,SAAUpB,EAAUR,EAAKK,SAASyB,WAAW5C,UAAU6C,SAEnF,SAGyC,IAA/BnC,EAAiBoC,WAC3BC,OAAOC,QAAQtC,EAAiBoC,WAAW/B,SAAQ,EAAEkC,EAAKC,MACzDlD,UAAU6C,SAASM,aAAaF,EAAKC,EAAME,WAAW,IAKxDpD,UAAU6C,SAASQ,sBACnBrD,UAAU6C,SAASS,oBACnBtD,UAAUuD,iBAEVxD,OAAOyD,cAAc,IAAIC,YAAY,kBAAmB,CACvDC,OAAO,IAET","sources":["webpack://static/./src/assets/js/dfp-ads.js"],"sourcesContent":["/**\n * Helps display dfp ads\n *\n */\n( function() {\n\n\twindow.googletag = window.googletag || {cmd: []};\n\tgoogletag.cmd.push(function() {\n\t\tvar pathParts = window.location.pathname.substr(1).split('/');\n\t\tvar dfpAdsSpots = document.querySelectorAll('[id^=\"div-gpt\"]');\n\t\tvar wpDfpAdsSettings = window.wpDfpAdsSettings || [];\n\t\tvar slotsToDefine = [];\n\t\tif( dfpAdsSpots.length\n\t\t\t&& typeof wpDfpAdsSettings.slots !== 'undefined'\n\t\t\t&& typeof wpDfpAdsSettings.slots.slot !== 'undefined' ) {\n\t\t\tdfpAdsSpots.forEach(function(spot) {\n\t\t\t\tvar findSlot = wpDfpAdsSettings.slots.slot.find(function(slot) {\n\t\t\t\t\treturn slot.spot_id === spot.id;\n\t\t\t\t});\n\n\t\t\t\tif(findSlot) {\n\t\t\t\t\tslotsToDefine.push(findSlot);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tif(slotsToDefine) {\n\t\t\tslotsToDefine.forEach(function(slot) {\n\t\t\t\tvar mapSizes = [];\n\t\t\t\tvar adsSizes = [];\n\t\t\t\tslot.size_mapping.forEach(function(sizes) {\n\t\t\t\t\tif(!sizes.screen_size) {\n\t\t\t\t\t\tvar baseSizes = sizes.ad_size_dynamic.map(function(size) {\n\t\t\t\t\t\t\treturn size.split('x').map(function(e) { return Number(e)});\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif(baseSizes.length) {\n\t\t\t\t\t\t\tadsSizes = adsSizes.concat(baseSizes);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tmapSizes.push({\n\t\t\t\t\t\t\tscreen: sizes.screen_size.split('x').map(function(e) { return Number(e)}),\n\t\t\t\t\t\t\tad: \tsizes.ad_size_dynamic.map(function(size) {\n\t\t\t\t\t\t\t\treturn size.split('x').map(function(e) { return Number(e)});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif(mapSizes) {\n\t\t\t\t\tvar adMapping = googletag.sizeMapping();\n\t\t\t\t\tmapSizes.forEach( function(breakpoint) {\n\t\t\t\t\t\tadMapping.addSize(breakpoint.screen, breakpoint.ad);\n\t\t\t\t\t});\n\t\t\t\t\tvar builtMapping = adMapping.build();\n\n\t\t\t\t\tgoogletag.defineSlot(slot.dfp_path, adsSizes, slot.spot_id)\n\t\t\t\t\t\t.defineSizeMapping(builtMapping)\n\t\t\t\t\t\t.addService(googletag.pubads());\n\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tgoogletag.defineSlot(slot.dfp_path, adsSizes, slot.spot_id).addService(googletag.pubads());\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tif( typeof wpDfpAdsSettings.targeting !== 'undefined' ) {\n\t\t\tObject.entries(wpDfpAdsSettings.targeting).forEach(([key, value]) => {\n\t\t\t\tgoogletag.pubads().setTargeting(key, value.toString())\n\t\t\t});\n\t\t}\n\n\t\t// targeting\n\t\tgoogletag.pubads().enableSingleRequest();\n\t\tgoogletag.pubads().collapseEmptyDivs();\n\t\tgoogletag.enableServices();\n\n\t\twindow.dispatchEvent(new CustomEvent('gpt-slots-ready', {\n\t\t\tready: true\n\t\t}));\n\t});\n\n})();"],"names":["window","googletag","cmd","push","location","pathname","substr","split","dfpAdsSpots","document","querySelectorAll","wpDfpAdsSettings","slotsToDefine","length","slots","slot","forEach","spot","findSlot","find","spot_id","id","mapSizes","adsSizes","size_mapping","sizes","screen_size","screen","map","e","Number","ad","ad_size_dynamic","size","baseSizes","concat","adMapping","sizeMapping","breakpoint","addSize","builtMapping","build","defineSlot","dfp_path","defineSizeMapping","addService","pubads","targeting","Object","entries","key","value","setTargeting","toString","enableSingleRequest","collapseEmptyDivs","enableServices","dispatchEvent","CustomEvent","ready"],"sourceRoot":""}